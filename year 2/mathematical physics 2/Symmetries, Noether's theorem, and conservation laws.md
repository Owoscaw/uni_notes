
[[Lagrangians for classical mechanics#Ignorable coordinates and Conservation of momentum|Ignorable coordinates]] motivates the statement that a coordinate $q_i$ is ignorable if the [[Calculus of variations#Euler-Lagrange equations|Lagrangian]] is invariant under the transformation $q_i\mapsto q_i+\epsilon a_i$ with $\epsilon a_i$ an arbitrary constant shift. Whenever this happens, we observed that generalized momentum $p_i$ was conserved.

Consider a uniparametric family of smooth maps $\varphi(\epsilon):\mathcal{C}\mapsto\mathcal{C}$ from [[Calculus of variations#Configuration space and generalised coordinates|configuration space]] to itself, with the property that $\varphi(0)$ is the identity map. We call this family of maps a transformation depending on $\epsilon$. In any given coordinate system, we can write the transformation as:$$\Huge q_i\rightarrow\phi_i(q_1,\dots,q_N,\epsilon)$$With $\phi_i$ a set of $N:=\dim\mathcal{C}$ functions representing the finite transformation in the given coordinate system. We then take the change in velocities to be:$$\Huge \dot q_i\rightarrow \frac{d}{dt}\phi_i$$Note that this definition is not trivial, as $q_i$ and $\dot q_i$ are still treated as independent at the Lagrangian level. Often, the shorthand notation $q_i'=\phi_i(\underline q,\epsilon)$ is used, that is we write:$$\Huge q_i\rightarrow q_i'=\dots$$Where a function of $q_i,\epsilon$ has been omitted. 

The generator of $\varphi$ is defined as:$$\Huge \frac{d\varphi(\epsilon)}{d\epsilon}\vert_{\epsilon=0}:=\lim_{\epsilon\to 0}\frac{\varphi(\epsilon)-\varphi(0)}{\epsilon}$$In any given coordinate system we have:$$\Huge q_i\rightarrow \phi_i(\underline q,\epsilon)=q_i+ \epsilon a_i(\underline q)+\mathcal{O}(\epsilon^2)$$Where:$$\Huge a_i=\frac{\partial \phi_i(\underline q,\epsilon)}{\partial \epsilon}\vert_{\epsilon=0}$$The above is a function of the generalized coordinates, the generator for the transformation is therefore $a_i$ for such coordinate. Similarly, the velocities get transformed as follows:$$\Huge \dot q_i\rightarrow \dot q_i+ \epsilon\dot a_i(q_1,\dots,q_n,\dot q_1,\dots,\dot q_N)+\mathcal{O}(\epsilon^2)$$Generated by $\dot a_i$.


## Particle in $\Re^d$
Take a particle moving in $\Re^d$ with cartesian coordinates $x_i$ for example. We associate the transformation with the first coordinate, $x_i$. That is $x_1\rightarrow x_1+\epsilon$ with other coordinates constant. So we have that the shifts of the coordinate system in the $x_1$ direction are generated by:$$\Huge a_i=\begin{cases}1&\text{for }i=1\\0&\text{otherwise}\end{cases}$$And $\dot a_i=0$. 

## Particle rotating in $\Re^2$
Consider a particle moving in two dimensions, and consider the finite transformations given by rotations around the origin. This gives the transformation:$$\Huge x\rightarrow x\cos\epsilon-y\sin\epsilon,\,\,y\rightarrow x\sin\epsilon+y\cos\epsilon$$In order to find the generators, we derive the associated infinitesimal transformations by using the expansions $\sin(\epsilon)=\epsilon+\mathcal{O}(\epsilon^3)$ and $\cos(\epsilon)=1+\mathcal{O}(\epsilon^2)$. We then find:$$\Huge x\rightarrow x-y\epsilon+\mathcal{O}(\epsilon^2),\,\,y\rightarrow y+x\epsilon+\mathcal{O}(\epsilon^2)$$This implies that the transformation is generated in cartesian coordinates by:$$\Huge a_x=-y,\,a_y=x,\,\dot a_x=-\dot y,\,\dot a_y=\dot x$$

# Symmetries:

We propose that the equations of motion do not change if the Lagrangian is modified by the addition of the total derivative of a function of the coordinates and time. That is:$$\Huge L\rightarrow L+\frac{dF(\underline q,t)}{dt}$$Does not change the equations of motion generated by the Lagrangian. To prove this, we observe the effect on the action:$$\large S=\int_{t_0}^{t_1}L\,dt\rightarrow S'=S+F(q_1(t_1),\dots,q_N(t_1),t_1)-F(q_1(t_0),\dots,q_N(t_0),t_0)$$Recall that the variation principle dictates that equations of motion are obtained by imposing that $\delta S$ vanishes to first order in $\delta q_i(t)$, keeping $q_i$ fixed at the endpoints of the path. This implies that in the variation, both $F(q_1(t_0),\dots,q_N(t_0),t_0)$ and $F(q_1(t_1),\dots,q_N(t_1),t_1)$ are kept fixed. Therefore:$$\tiny \delta S'=S'[\underline q+\delta\underline q]-S'[\underline q]=S[\underline q+\delta\underline q]+F(\underline q(t_1),t_1)-F(\underline q(t_0),t_0)-(S[\underline q]+F(\underline q(t_1),t_1)-F(\underline q(t_0),t_0))=S[\delta\underline q]-S[\underline q]=\delta S$$So we see that the addition of this total derivative has not changed $\delta S$, so it cannot change the equations of motion derived from said action. 

This motivates the definition of a symmetry. A transformation $\varphi(\epsilon)$ is a symmetry if, to the first order in $\epsilon$, there exists some function $F(\underline q,t)$ such that the change in the Lagrangian is a total time derivative of $F(\underline q,t)$:$$ L\rightarrow L'=L(\phi_1(\underline q,\epsilon),\dots,\phi_N(\underline q,\epsilon),\dot\phi_1(\underline q,\epsilon),\dots,\dot\phi_N(\underline q,\epsilon))=L(\underline q,\underline{\dot q})+\epsilon\frac{dF(\underline q,t)}{dt}+\mathcal{O}(\epsilon^2)$$Note that $F(\underline q,t)$ is defined only up to a constant, that is $F'(\underline q,t)=F(\underline q,t)+c$ with constant $c$ will also satisfy the equation.

Whenever a coordinate $q_i$ is ignorable, the associated symmetry $q_i\rightarrow q_i+c_i$ is clearly a symmetry since by definition the coordinate is not present in the Lagrangian, and $\dot q_i$ is not changed under the transformation. In this case, $F(\underline q,t)=0$.

Note that the definition of a symmetry does not involve the equations of motion, the Lagrangian must stay invariant up to a total derivative without using the equations of motion. That is the Lagrangian must be invariant also for those paths in configuration space that do not extremize the action, $S$. 

# Noether's theorem:

Consider a transformation generated by $a_i(q_1,\dots,q_N)$ in a given set of generalized coordinates such that:$$\Huge L\rightarrow L+\epsilon\frac{dF(q_1,\dots,q_N,t)}{dt}+\mathcal{O}(\epsilon^2)$$Is a symmetry. Then define:$$\Huge Q:=\left(\sum_{i=1}^Na_i \frac{\partial L}{\partial\dot q_i}\right)-F$$Under these conditions, $Q$ is conserved. This quantity is known as the Noether charge.

Recall that physical trajectories are those that satisfy $\delta S=0$ to first order in $\delta q_i(t)$, keeping endpoints $q_i(t_0)$ and $q_i(t_1)$ fixed. A general transformation acts as $q_i(t)\rightarrow q(t)+\epsilon a_i(q,t)$, this does not necessarily preserved the fixed endpoints of the trajectory. Therefore the action of a physical path can change to first order in $\epsilon$ under a generic transformation described above. However this does so in a localised way, only behaviour near the endpoints $t_0$ and $t_1$ can contribute to $\delta S$. If such transformation is a symmetry, we compute $\delta S$ to first order in $\epsilon$ as a function of quantities at the endpoints only:![[proof of Noether]]

Consider the variation of the action, $S$, under a generic transformation:$$\Huge q_i\rightarrow q_i+\delta q_i=q_i+\epsilon a_i$$Under said transformation, the Lagrangian changes to be:$$\large L\rightarrow L'=L(\underline q',\dot{\underline q}')=L(\underline q_1+\epsilon a_1,\dots,\underline q_N+\epsilon a_N,\dot{\underline q_1}+\epsilon\dot a_1,\dots,\dot{\underline q}_N+\epsilon\dot a_N) $$$$\Huge L\rightarrow L(\underline q,\dot{\underline q})+\sum_{i=1}^N \left(\epsilon a_i \frac{\partial L}{\partial \underline q_i}+\epsilon\dot a_i \frac{\partial L}{\partial\dot{\underline q}}\right)$$Assuming the Euler-Lagrange equations are true, the first term in the sum can be written as:$$\Huge L\rightarrow L(\underline q,\dot{\underline q})+\epsilon\sum_{i=1}^N \left(a_i \frac{d}{dt}\left(\frac{\partial L}{\partial\dot{\underline q_i}}\right)+\dot a_i \frac{\partial L}{\partial\dot{\underline q_i}}\right)$$Now the terms in the sum is just the result of a total derivative, so we write:$$\Huge L\rightarrow L(\underline q,\dot{\underline q})+\epsilon\sum_{i=1}^N \frac{d}{dt}\left(a_i \frac{\partial L}{\partial\dot{\underline q}}\right)$$With the transformed Lagrangian, the action becomes:$$\Huge S\rightarrow S+\epsilon\sum_{i=1}^N\int_{t_0}^{t_1}\frac{d}{dt}\left(\frac{\partial L}{\partial\dot{\underline q_i}}\right)dt=S+\epsilon\left[\sum_{i=1}^N a_i \frac{\partial L}{\partial\dot{\underline q_i}}\right]_{t_0}^{t_1}$$Now we can compute the variation of $S$:$$\Huge \delta S=S'-S=\epsilon\left[\sum_{i=1}^Na_i \frac{\partial L}{\partial\dot{\underline q_i}}\right]_{t_0}^{t_1}+\mathcal{O}(\epsilon^2)$$Note that this result is only valid along a path that satisfies the equations of motion, since it was used to obtain the above expression. Exploring the second option, that being that the variation is a symmetry gives:$$\Huge \delta S=S[\underline q+\delta \underline q]-S[\underline q]=\int_{t_0}^{t_1}\left(L+\epsilon\frac{dF}{dt}+\mathcal{O}(\epsilon^2)\right)-L\,dt=\epsilon[F]_{t_0}^{t_1}+\mathcal{O}(\epsilon^2)$$Equating both results gives:$$\Huge 0=\epsilon\left[\left(\sum_{i=1}^N a_i \frac{\partial L}{\partial\dot{\underline q_i}}\right)-F\right]_{t_0}^{t_1}+\mathcal{O}(\epsilon^2)=\epsilon[Q]_{t_0}^{t_1}+\mathcal{O}(\epsilon^2)$$This implies $Q(t_0)=Q(t_1)=0$ for all $t_0,t_1$. Since the choice of $t_0,t_1$ is arbitrary, choose $t_1=t_0+\epsilon$. Then we have:$$ Q(t_1)-Q(t_0)=Q(t_0+\epsilon)-Q(t_0)=\left(Q(t_0)+\epsilon\frac{dQ}{dt}\vert_{t=t_0}+\mathcal{O}(\epsilon^2)\right)-Q(t_0)=\epsilon\frac{dQ}{dt}+\dots=0$$For all $\epsilon$. This implies $\frac{dQ}{dt}=0$, proving Noether's theorem.

When a coordinate $q_i$ is ignorable, we have a symmetry as shown above with $f=0$ generated by $q_i\rightarrow q_i+\epsilon$. That is:$$\Huge a_k=\delta_{ik}=\begin{cases}1&\text{if }i=k\\0&\text{otherwise}\end{cases}$$The corresponding Noether charge is then:$$\Huge Q=\sum_{k=1}^Na_k \frac{\partial L}{\partial\dot q_i}=\sum_{k=1}^N\delta_{ki}\frac{\partial L}{\partial\dot q_i}=\frac{\partial L}{\partial\dot q_i}$$Take the following as example:![[Noether's example]]

# Energy conservation:

Consider a Lagrangian $L(\underline q(t),\dot{\underline q}(t),t)$. The energy associated to $L$ is defined as:$$\Huge E:=\left(\sum_{i=1}^N\dot{\underline q}_i \frac{\partial L}{\partial\dot{\underline q}_i}\right)-L$$We then propose:$$\Huge \frac{d E}{dt}=-\frac{\partial L}{\partial t}$$We prove this as follows:$$\small\frac{d}{dt} E=\frac{d}{dt}\left(\sum_{i=1}^N\dot{\underline q_i} \frac{\partial L}{\partial\dot{\underline q_i}}-L\right)=\sum_{i=1}^N \frac{d}{dt}\left(\dot{\underline q_i \frac{\partial L}{\partial\dot{\underline q_i}}}\right)-\frac{d L}{dt}=\sum_{i=1}^N\ddot{\underline q_i}\frac{\partial L}{\partial\dot{\underline q_i}}+\dot{\underline q_i}\frac{d}{dt}\left(\frac{\partial L}{\partial\dot{\underline q_i}}\right)-\frac{d L}{dt}=\sum_{i=1}^N\ddot{\underline q_i}\frac{\partial L}{\partial\dot{\underline q_i}}+\dot{\underline q_i}\frac{\partial L}{\partial \underline q_i}-\frac{d L}{dt}$$We then compute $\frac{d L}{dt}$:$$\Huge \frac{d L(\underline q,\dot{\underline q}, t)}{dt}=\left(\sum_{i=1}^N\dot{\underline q_i}\frac{\partial L}{\partial\underline q_i}+\ddot{\underline q_i}\frac{\partial L}{\partial\dot{\underline q_i}}\right)+\frac{\partial L}{\partial t}$$Then the total time derivative of $E$ becomes:$$\Huge \frac{d E}{dt}=\sum_{i=1}^N\ddot{\underline q_i}\frac{\partial L}{\partial\dot{\underline q_i}}+\dot{\underline q_i}\frac{\partial L}{\partial \underline q_i}-\dot{\underline q_i}\frac{\partial L}{\partial \underline q_i}-\ddot{\underline q_i}\frac{\partial L}{\partial\dot{\underline q_i}}-\frac{\partial L}{\partial t}=-\frac{\partial L}{\partial t}$$Where every term in the sum cancels out.