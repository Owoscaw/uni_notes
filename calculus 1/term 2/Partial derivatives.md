[[Continuity and differentiability for functions of two or more variables#Differentiability|Differentiability]] in one dimension is defined as:$$\Huge f(x)=f(x_0)+M(x-x_0)+R(x)$$Now we let $x=x_0+\delta x$:$$\Huge f(x_0+\delta x)=f(x_0)+M\delta x+R(x)$$$$\Huge \delta f=f(x_0+\delta x)-f(x_0)=M\delta x+R(x)\approx M\delta x=\frac{df}{dx}\delta x$$That is to say, for very small change in $x$, then $\delta f$ is roughly proportional to $\delta x$. Extending this to two variables, for a function $f(x,y)$ and letting $x=x_0+\delta x, y=y_0+\delta y$:$$\Huge f(x_0+\delta x,y_0+\delta y)=f(x_0,y_0)+M\delta x+N\delta y+R(x,y)$$$$\Huge \delta f=f(x_0+\delta x,y_0+\delta y)-f(x_0,y_0)=M\delta x+N\delta y+R(x,y)\approx M\delta x+N\delta y$$This implies that the slop depends on the direction of movement. Choosing $\delta y=0$:$$\Huge \delta f=M\delta x+R(x_0+\delta x,y_0)$$From this, divide through by $\delta x$ and take limits:$$\Huge \lim_{\delta x\to 0}\frac{f(x_0+\delta x,y_0)-f(x_0,y_0)}{\delta x}=M+\lim_{\delta x\to 0}\frac{R(x_0+\delta x,y_0)}{\delta x}=M$$This is by definition of differentiability, and is a property of $R(x,y)$. This is the definition of the partial derivative in the $x$ direction, the change in a function when only considering movement in the $x$ direction. We can then formally define:$$\Huge \frac{\partial f}{\partial x}(x_0,y_0)=\lim_{\delta x\to 0}\frac{f(x_0+\delta x,y_0)-f(x_0,y_0)}{\delta x}$$The partial derivative wrt $y$ can be defined similarly:$$\Huge \frac{\partial f}{\partial y}(x_0,y_0)=\lim_{\delta y\to 0}\frac{f(x_0,y_0+\delta y)-f(x_0,y_0)}{\delta y}$$Note that if the function is differentiable, $\implies$ partial derivatives exist, however not the other way around.

# Higher derivatives:

If $f(x,y)$ is differentiable, partial derivatives can be defined:$$\Huge \frac{\partial f}{\partial x}=f_X=\partial_Xf,\,\,\frac{\partial f}{\partial y}=f_Y=\partial_Yf$$If these functions are themselves differentiable, then higher order derivatives can be defined:$$\Huge\frac{\partial}{\partial x}\left(\frac{\partial f}{\partial x}\right)=\frac{\partial^2f}{\partial x^2}=f_{XX},\,\,\frac{\partial }{\partial y}\left(\frac{\partial f}{\partial y}\right)=\frac{\partial^2f}{\partial y^2}=f_{YY}$$Mixed derivatives can also be defined:$$\Huge \frac{\partial}{\partial y}\left(\frac{\partial f}{\partial x}\right)=\frac{\partial^2f}{\partial y\partial x}=f_{XY},\,\,\frac{\partial }{\partial x}\left(\frac{\partial f}{\partial y}\right)=\frac{\partial^2f}{\partial x\partial y}=f_{YX}$$
## Shwarz-Clairault theorem:
Let $f(x_1,\dots,x_n)$ be a function $f:\Re^n\mapsto\Re$. If the function's second derivatives $\frac{\partial^2f}{\partial x_i\partial x_j}$ for $1\leq i,j\leq n$ all exist and are continuous in a neighbourhood around the point $\underline a=(a_1,\dots,a_n)$ then:$$\Huge \frac{\partial^2f}{\partial x_i\partial x_j}(\underline a)=\frac{\partial^2f}{\partial x_j\partial x_i}$$That is, order of differentiation does not matter (for suitably smooth functions).

# Chain rule:

We showed above that for a function of one variable, $\delta f=f(x_0+\delta x)-f(x_0)=\frac{df}{dx}(x_0)\delta x+R(x)\approx\frac{df}{dx}\delta x$. In the limit as $\delta x\to 0$, the linear relationship between $\delta f$ and $\delta x$ becomes exact. This becomes:$$\Huge \lim_{\delta x\to 0}\delta f=\lim_{\delta x\to 0}\frac{df}{dx}\delta x\implies df=\frac{df}{dx}dx$$These $df$ and $dx$ terms are known as differentials. Suppose that $y=y(t)$ and $x=x(t)$. $y(x(t))$ can also be thought of as a function on $t$. $y$ can also be thought of as a function of $x$. From this we get the following:$$\Huge dy=\frac{dy}{dt}dt,\,\,dy=\frac{dy}{dx}dx,\,\,dx=\frac{dx}{dt}dt$$Then substituting one into the other:$$\Huge dy=\frac{dy}{dx}\left(\frac{dx}{dt}dt\right)=\frac{dy}{dx}\frac{dx}{dt}dt\implies\frac{dy}{dt}=\frac{dy}{dx}\frac{dx}{dt}$$This is the chain rule for functions of a single variable. Note that partial derivatives cannot be treated in this way:![[why you cant treat partial derivatives as a fraction]]
## Functions of more than one variable:
Recall that $\delta f=f(x_0+\delta x,y_0+\delta y)-f(x_0,y_0)=M\delta x+N\delta y+R(x,y)=\frac{\partial f}{\partial x}\delta x+\frac{\partial f}{\partial y}\delta y+R(x)$. Taking the infinitesimal limit:$$\Huge \lim_{\delta x,\delta y\to0}\delta f=\lim_{\delta x,\delta y\to 0}\left(\frac{\partial f}{\partial x}\delta x+\frac{\partial f}{\partial y}\delta y+R(x)\right)=df=\frac{\partial f}{\partial x}dx+\frac{\partial f}{\partial y}dy$$Consider the following where a curve is given parametrically:![[chain rule for multivariable functions]]However when it is given explicitly:![[total derivative]]A similar process exists for $\frac{df}{dy}$. Example:![[total derivative example]]
# Directional derivatives:

A directional derivative gives the slope in the direction of a unit vector $\underline{\hat n}$:![[directional derivative diagram]]
If $f$ is a function of $n$ variables, then:$$\Huge \underline\nabla f=\left(\frac{\partial f}{\partial x_1},\frac{\partial f}{\partial x_2},\dots,\frac{\partial f}{\partial x_n}\right)$$To find the slope of $f$ in the direction of any vector $\underline u$, you can normalise $u$ by dividing it by $|\underline u|$. Example:![[directional derivative example]]
The directional derivative can also be defined as:$$\Huge \underline{\nabla }f \cdot\underline{\hat n}=|\underline {\nabla} f||\underline{\hat n}|\cos(\theta)=|\underline\nabla f|\cos(\theta)$$Where $\theta$ is the angle between $\underline{\hat n}$ and $\underline\nabla f$. Since $-1\leq\cos\theta\leq1$ it follows that:$$\Huge -|\underline\nabla f|\leq \underline\nabla f\cdot\underline{\hat n}\leq|\underline\nabla f|$$So the directional derivative is maximum when $\theta=0$, when $\underline{\hat n}$ and $\underline\nabla f$ point in the same direction. Then $\underline\nabla f\cdot\underline{\hat n}=|\underline\nabla f|$. On the other hand if $\underline{\hat n}$ is tangential to the level set $f=c$ then the slope in the direction of $\underline{\hat n}$ is $0$, $\underline\nabla f$ is perpendicular to the tangent and normal to the level set.

# Changing coordinates:

![[partials in new coordinates]]
A coordinate change from $(x,y)$ to $(u,v)$ where $x=x(u,v)$ and $y=y(u,v)$ involves the use of the chain rule:![[Partial derivatives .excalidraw]]